{"ast":null,"code":"import _toConsumableArray from \"C:/Users/alanc/Documents/carrinho-1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"C:/Users/alanc/Documents/carrinho-1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\alanc\\\\Documents\\\\carrinho-1\\\\src\\\\carrinho\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport { Link } from \"react-router-dom\";\nimport { Container } from './styled';\nimport { useEffect, useState } from \"react\";\nimport Cookie from 'js-cookie';\nimport CarrinhoItem from './carrinhoItem';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Carrinho() {\n  _s();\n\n  var _this = this;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      produtos = _useState2[0],\n      setProdutos = _useState2[1];\n\n  useEffect(carregarCarrinho, []);\n\n  function carregarCarrinho() {\n    var carrinho = Cookie.get('carrinho');\n    carrinho = carrinho !== undefined ? JSON.parse(carrinho) : [];\n    setProdutos(carrinho);\n  }\n\n  function removerProduto(id) {\n    var carrinho = produtos.filter(function (item) {\n      return item.id !== id;\n    });\n    Cookie.set('carrinho', JSON.stringify(carrinho));\n    setProdutos(_toConsumableArray(carrinho));\n  }\n\n  function alterarProduto(id, qtd) {\n    var produtoAlterado = produtos.filter(function (item) {\n      return item.id === id;\n    })[0];\n    produtoAlterado.qtd = qtd;\n    Cookie.set('carrinho', JSON.stringify(produtos));\n  }\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \" Carrinho \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/\",\n      children: \" Voltar \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"itens\",\n      children: produtos.map(function (item) {\n        return /*#__PURE__*/_jsxDEV(CarrinhoItem, {\n          info: item,\n          onUpdate: alterarProduto,\n          onRemove: removerProduto\n        }, item.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, _this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Carrinho, \"YThzVm+2hP7nTmSJUEiwJVLywK0=\");\n\n_c = Carrinho;\n\nvar _c;\n\n$RefreshReg$(_c, \"Carrinho\");","map":{"version":3,"sources":["C:/Users/alanc/Documents/carrinho-1/src/carrinho/index.js"],"names":["Link","Container","useEffect","useState","Cookie","CarrinhoItem","Carrinho","produtos","setProdutos","carregarCarrinho","carrinho","get","undefined","JSON","parse","removerProduto","id","filter","item","set","stringify","alterarProduto","qtd","produtoAlterado","map"],"mappings":";;;;;;AAAA,SAASA,IAAT,QAAqB,kBAArB;AACA,SAASC,SAAT,QAA0B,UAA1B;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AAEA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;;AAMA,eAAe,SAASC,QAAT,GAAoB;AAAA;;AAAA;;AACjC,kBAAgCH,QAAQ,CAAC,EAAD,CAAxC;AAAA;AAAA,MAAOI,QAAP;AAAA,MAAiBC,WAAjB;;AAGAN,EAAAA,SAAS,CAACO,gBAAD,EAAmB,EAAnB,CAAT;;AAIA,WAASA,gBAAT,GAA4B;AAE1B,QAAIC,QAAQ,GAAGN,MAAM,CAACO,GAAP,CAAW,UAAX,CAAf;AACAD,IAAAA,QAAQ,GAAGA,QAAQ,KAAKE,SAAb,GACKC,IAAI,CAACC,KAAL,CAAWJ,QAAX,CADL,GAEK,EAFhB;AAKAF,IAAAA,WAAW,CAACE,QAAD,CAAX;AACD;;AAGD,WAASK,cAAT,CAAwBC,EAAxB,EAA4B;AAE1B,QAAIN,QAAQ,GAAGH,QAAQ,CAACU,MAAT,CAAgB,UAAAC,IAAI;AAAA,aAAIA,IAAI,CAACF,EAAL,KAAYA,EAAhB;AAAA,KAApB,CAAf;AAGAZ,IAAAA,MAAM,CAACe,GAAP,CAAW,UAAX,EAAuBN,IAAI,CAACO,SAAL,CAAeV,QAAf,CAAvB;AAGAF,IAAAA,WAAW,oBAAKE,QAAL,EAAX;AACD;;AAGD,WAASW,cAAT,CAAwBL,EAAxB,EAA4BM,GAA5B,EAAiC;AAE9B,QAAIC,eAAe,GAAGhB,QAAQ,CAACU,MAAT,CAAgB,UAAAC,IAAI;AAAA,aAAIA,IAAI,CAACF,EAAL,KAAYA,EAAhB;AAAA,KAApB,EAAwC,CAAxC,CAAtB;AACAO,IAAAA,eAAe,CAACD,GAAhB,GAAsBA,GAAtB;AAGAlB,IAAAA,MAAM,CAACe,GAAP,CAAW,UAAX,EAAuBN,IAAI,CAACO,SAAL,CAAeb,QAAf,CAAvB;AACF;;AAMD,sBACE,QAAC,SAAD;AAAA,4BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAGE,QAAC,IAAD;AAAM,MAAA,EAAE,EAAC,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHF,eAKE;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA,gBACGA,QAAQ,CAACiB,GAAT,CAAa,UAAAN,IAAI;AAAA,4BACd,QAAC,YAAD;AACI,UAAA,IAAI,EAAEA,IADV;AAEI,UAAA,QAAQ,EAAEG,cAFd;AAGI,UAAA,QAAQ,EAAEN;AAHd,WAAmBG,IAAI,CAACF,EAAxB;AAAA;AAAA;AAAA;AAAA,iBADc;AAAA,OAAjB;AADH;AAAA;AAAA;AAAA;AAAA,YALF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAmBD;;GAhEuBV,Q;;KAAAA,Q","sourcesContent":["import { Link } from \"react-router-dom\";\r\nimport { Container } from './styled'\r\nimport { useEffect, useState } from \"react\"\r\n\r\nimport Cookie from 'js-cookie'\r\nimport CarrinhoItem from './carrinhoItem'\r\n\r\n\r\n\r\n\r\n\r\nexport default function Carrinho() {\r\n  const [produtos, setProdutos] = useState([]);\r\n  \r\n\r\n  useEffect(carregarCarrinho, []);\r\n\r\n\r\n\r\n  function carregarCarrinho() {\r\n   \r\n    let carrinho = Cookie.get('carrinho');\r\n    carrinho = carrinho !== undefined \r\n                  ? JSON.parse(carrinho) \r\n                  : [];\r\n\r\n\r\n    setProdutos(carrinho);\r\n  }\r\n  \r\n\r\n  function removerProduto(id) {\r\n    \r\n    let carrinho = produtos.filter(item => item.id !== id);\r\n    \r\n    \r\n    Cookie.set('carrinho', JSON.stringify(carrinho));\r\n\r\n\r\n    setProdutos([...carrinho]);\r\n  }\r\n\r\n\r\n  function alterarProduto(id, qtd) {\r\n  \r\n     let produtoAlterado = produtos.filter(item => item.id === id)[0];\r\n     produtoAlterado.qtd = qtd;\r\n \r\n\r\n     Cookie.set('carrinho', JSON.stringify(produtos));\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <Container>\r\n      <h1> Carrinho </h1>\r\n\r\n      <Link to=\"/\"> Voltar </Link>\r\n\r\n      <div className=\"itens\">\r\n        {produtos.map(item => \r\n            <CarrinhoItem key={item.id} \r\n                info={item} \r\n                onUpdate={alterarProduto} \r\n                onRemove={removerProduto} />\r\n        )}\r\n      </div>\r\n\r\n    </Container>\r\n  )\r\n\r\n\r\n}"]},"metadata":{},"sourceType":"module"}